<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="costco.sim.HelloController"
            prefHeight="800.0" prefWidth="1200.0">

    <!-- PANEL SUPERIOR: Controles -->
    <top>
        <VBox spacing="10" style="-fx-background-color: #2c3e50; -fx-padding: 15;">

            <!-- Título y Tiempo -->
            <HBox alignment="CENTER" spacing="30">
                <Label text="SIMULADOR DE FILAS - COSTCO MEXICALI"
                       textFill="WHITE"
                       style="-fx-font-size: 20px; -fx-font-weight: bold;"/>

                <Label fx:id="lblTiempo"
                       text="Tiempo: 0/600 min"
                       textFill="#3498db"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            </HBox>

            <!-- Selección de Método -->
            <HBox alignment="CENTER" spacing="20">
                <Label text="Método:" textFill="WHITE"/>
                <RadioButton fx:id="rbFilaUnica" text="Fila Única"
                             textFill="WHITE" selected="true">
                    <toggleGroup>
                        <ToggleGroup fx:id="grupoMetodo"/>
                    </toggleGroup>
                </RadioButton>
                <RadioButton fx:id="rbMultiple" text="Múltiples Filas"
                             textFill="WHITE" toggleGroup="$grupoMetodo"/>
            </HBox>

            <!-- Botones de Control -->
            <HBox alignment="CENTER" spacing="15">
                <Button fx:id="btnIniciar" text="▶ INICIAR"
                        onAction="#iniciarSimulacion"
                        prefWidth="120"
                        style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"/>

                <Button fx:id="btnPausar" text="⏸ PAUSAR"
                        onAction="#pausarReanudar"
                        prefWidth="120" disable="true"
                        style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold;"/>

                <Button fx:id="btnDetener" text="⏹ DETENER"
                        onAction="#detenerSimulacion"
                        prefWidth="120" disable="true"
                        style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold;"/>

                <Label text="Velocidad:" textFill="WHITE"/>
                <ComboBox fx:id="cbVelocidad" onAction="#cambiarVelocidad" prefWidth="80">
                    <items>
                        <javafx.collections.FXCollections fx:factory="observableArrayList">
                            <String fx:value="1x"/>
                            <String fx:value="2x"/>
                            <String fx:value="5x"/>
                            <String fx:value="10x"/>
                        </javafx.collections.FXCollections>
                    </items>
                    <value>
                        <String fx:value="1x"/>
                    </value>
                </ComboBox>
            </HBox>
        </VBox>
    </top>

    <!-- CENTRO: Área de Juego (con imagen de fondo) -->
    <center>
        <StackPane fx:id="areaJuego">
            <!-- Imagen de fondo -->
            <ImageView fx:id="imagenFondo" preserveRatio="false" fitWidth="1200" fitHeight="600">
                <image>
                    <Image url="@../imagenes/fondo_costco.png"/>
                </image>
            </ImageView>

            <!-- Pane donde se dibujarán las animaciones -->
            <Pane fx:id="panelAnimaciones"/>
        </StackPane>
    </center>

    <!-- INFERIOR: Estadísticas -->
    <bottom>
        <VBox spacing="5" style="-fx-background-color: #ecf0f1; -fx-padding: 10;">
            <Label text="ESTADÍSTICAS EN TIEMPO REAL"
                   style="-fx-font-weight: bold; -fx-font-size: 12px;"/>

            <HBox spacing="30" alignment="CENTER">
                <Label fx:id="lblClientesAtendidos" text="Clientes: 0"/>
                <Label fx:id="lblEsperaPromedio" text="Espera Prom: 0.0 min"/>
                <Label fx:id="lblCajasAbiertas" text="Cajas: 0/12"/>
            </HBox>
        </VBox>
    </bottom>

</BorderPane>